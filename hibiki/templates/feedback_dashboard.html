{% extends "admin_dashboard.html" %}
{% block content %}
<div class="feedback-container">
  <h2>💬 Feedback Dashboard</h2>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Rating</th>
        <th>Message</th>
        <th>Submitted</th>
      </tr>
    </thead>
    <tbody>
      {% for fb in feedbacks %}
      <tr>
        <td>{{ fb.name }}</td>
        <td>{{ fb.email }}</td>
        <td>
          {% for i in "12345"|make_list %}
            {% if forloop.counter <= fb.rating %}
              ⭐
            {% else %}
              ☆
            {% endif %}
          {% endfor %}
        </td>
        <td>{{ fb.message }}</td>
        <td>{{ fb.created_at|date:"M d, Y H:i" }}</td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5" class="empty-row">No feedback yet</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<style>
  .feedback-container {
    background: #181818;
    padding: 20px;
    border-radius: 12px;
    color: #fff;
    margin-left: 240px;
    box-shadow: 0 0 12px rgba(0,0,0,0.6);
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
  }
  th, td {
    padding: 12px;
    border-bottom: 1px solid #333;
    text-align: left;
    vertical-align: top;
  }
  th {
    color: #aaa;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  tr:hover {
    background: #262626;
  }
  .empty-row {
    text-align: center;
    padding: 20px;
    color: #777;
  }
</style>
{% endblock %}
